@*
 * Copyright 2021 HM Revenue & Customs
 *
 *@

@import views.html.account_cards.duty_deferment_account_limit_remaining
@import domain.DutyDefermentAccount

@(account:DutyDefermentAccount, index: Int)(implicit messages: Messages)
    <div class="govuk-panel govuk-panel--details result" id="client-account-@{index}">
        <h2 class="govuk-heading-m govuk-!-margin-bottom-3" id="eori-@{index}"><span class="govuk-panel__heading--span">@messages("cf.eori") </span>@account.owner</h2>
        <dl class="results search-results">
            <div class="account-number search-results__item" id="account-@{index}">
                <dt class="search-results__term">@messages("cf.account.authorized-to-view.account-number")</dt>
                <dd class="search-results__description">@account.number</dd>
            </div>
            <div class="account-type search-results__item" id="account-type-@{index}">
                <dt class="search-results__term">@messages("cf.account.authorized-to-view.account-type")</dt>
                <dd class="search-results__description">@messages("cf.account.authorized-to-view.duty-deferment.account-type")</dd>
            </div>
        </dl>
            @defining(account.balances.periodAvailableAccountBalance.nonEmpty ||
                    account.balances.periodAvailableGuaranteeBalance.nonEmpty) { periodAvailableBalance =>
                @duty_deferment_account_limit_remaining(account, periodAvailableBalance)
            }
    </div>
